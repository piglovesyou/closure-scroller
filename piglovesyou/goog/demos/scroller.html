<!--
 * @license
 * Copyright (c) 2012 Soichi Takamura (http://stakam.net/)
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 -->

<!DOCTYPE HTML>
<html>
<head>
	<meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>goog.ui.Scroller</title>
  <link rel="stylesheet" href="../css/scroller.css" />

  <script src="../../../closure-library-read-only/closure/goog/base.js"></script>
  <script type="text/javascript">
    goog.require('goog.ui.Control');
    goog.require('goog.ui.Slider');
  </script>
  <script src="../ui/scroller.js"></script>

  <style type="text/css">
    #my-vscroller {
      height: 200px;
      width: 200px;
      border: 1px #999 solid;
    }
    #my-vscroller .item {
      padding: 10px;
      border-bottom: 1px #999 solid;
      background: lightblue;
    }
    #my-vscroller .item:last-child {
      border-bottom: none;
    }

    #my-hscroller {
      height: 200px;
      width: 200px;
      border: 1px #999 solid;
    }
    #my-hscroller .goog-scroller-container {
      white-space: nowrap;
    }
    #my-hscroller .item {
      display: inline-block;
      height: 180px;
      padding: 10px;
      border-right: 1px #999 solid;
      background: lightgreen;
    }
    #my-hscroller .item:last-child {
      border-bottom: none;
    }

    #my-bscroller {
      height: 200px;
      width: 200px;
      border: 1px #999 solid;
    }
    #my-bscroller .goog-scroller-container {
      white-space: nowrap;
    }
    #my-bscroller .item {
      display: inline-block;
      width       : 70px;
      height      : 70px;
      line-height : 70px;
      text-align: center;
      
      padding: 10px;
      border-right: 1px #999 solid;
      border-bottom: 1px #999 solid;
      background: lightpink;
    }
    #my-hscroller .item:last-child {
      border-bottom: none;
    }


    table {
      border-collapse: collapse;
      background: 
    }
    table th,
    table td {
      border: 1px #ccc solid;
      padding: 1em 2em;
    }
    table td { 
      vertical-align: top;
    }
  </style>
  <!--[if lt IE 8 ]>
    <style type="text/css">
      #my-vscroller .goog-scroller-container,
      #my-hscroller .goog-scroller-container,
      #my-bscroller .goog-scroller-container {
        width: 200px;
        height: 200px;
      }
      #my-hscroller .item {height: 200px;}
      #my-hscroller .item,
      #my-bscroller .item {
        display: inline;
      }
    </style>
  <![endif]-->
</head>
<body>

  <h1>goog.ui.Scroller</h1>

  <table>
  	<tr>
  		<th>Vertical</th>
  		<th>Horizontal</th>
  		<th>Both</th>
  	</tr>
    <tr>
      <td>

        <div id="my-vscroller" class="goog-scroller">
          <div class="goog-scroller-container">
            <div class="item">item1</div>
            <div class="item">item2</div>
            <div class="item">item3</div>
            <div class="item">item4</div>
            <div class="item">item5</div>
            <div class="item">item6</div>
            <div class="item">item7</div>
            <div class="item">item8</div>
            <div class="item">item9</div>
            <div class="item">item10</div>
            <div class="item">item11</div>
            <div class="item">item12</div>
          </div>
        </div>
        <button id="vdecrementButton">Decrement items</button>

      </td>
      <td>
      
        <div id="my-hscroller" class="goog-scroller">
          <div class="goog-scroller-container">
            <div class="item">item1</div><!--
         --><div class="item">item2</div><!--
         --><div class="item">item3</div><!--
         --><div class="item">item4</div><!--
         --><div class="item">item5</div><!--
         --><div class="item">item6</div><!--
         --><div class="item">item7</div><!--
         --><div class="item">item8</div><!--
         --><div class="item">item9</div><!--
         --><div class="item">item10</div><!--
         --><div class="item">item11</div><!--
         --><div class="item">item12</div><!--
         --><div class="item">item13</div>
          </div>
        </div>
        <button id="hdecrementButton">Decrement items</button>

      </td>

      <td>
      
        <div id="my-bscroller" class="goog-scroller">
          <div class="goog-scroller-container">
            <div class="item">item1</div><!--
         --><div class="item">item2</div><!--
         --><div class="item">item3</div><!--
         --><div class="item">item4</div><br />
            <div class="item">item5</div><!--
         --><div class="item">item6</div><!--
         --><div class="item">item7</div><!--
         --><div class="item">item8</div><br />
            <div class="item">item9</div><!--
         --><div class="item">item10</div><!--
         --><div class="item">item11</div><!--
         --><div class="item">item12</div><br />
            <div class="item">item13</div><!--
         --><div class="item">item14</div><!--
         --><div class="item">item15</div><!--
         --><div class="item">item16</div><br />
 
                    
          </div>
        </div>
        <button id="bdecrementButton">Decrement items</button>

      </td>
    </tr>
  </table>


  <script>
    var vscroller = new goog.ui.Scroller;
    var elm = goog.dom.getElement('my-vscroller');
    vscroller.decorate(elm);
    var vbutton = goog.dom.getElement('vdecrementButton');
    vbutton.removeAttribute('disabled');
    goog.events.listen(vbutton, 'click', goog.bind(decrement, null, vscroller));

    var hscroller = new goog.ui.Scroller(goog.ui.Scroller.ORIENTATION.HORIZONTAL);
    var elm = goog.dom.getElement('my-hscroller');
    hscroller.decorate(elm);
    var hbutton = goog.dom.getElement('hdecrementButton');
    hbutton.removeAttribute('disabled');
    goog.events.listen(hbutton, 'click', goog.bind(decrement, null, hscroller));

    var bscroller = new goog.ui.Scroller(goog.ui.Scroller.ORIENTATION.BOTH);
    var elm = goog.dom.getElement('my-bscroller');
    bscroller.decorate(elm);
    var bbutton = goog.dom.getElement('bdecrementButton');
    bbutton.removeAttribute('disabled');
    goog.events.listen(bbutton, 'click', goog.bind(decrement, null, bscroller));

    function decrement (scroller, e) {
      var container = scroller.getContentElement()
      var item = goog.dom.getLastElementChild(container);
      if (item) {
        goog.dom.removeNode(item);
        scroller.update();
        // br
        var br = goog.dom.getLastElementChild(container);
        if (br && br.nodeName == goog.dom.TagName.BR) goog.dom.removeNode(br);
        if (goog.dom.getChildren(container).length == 0) {
          var buttonElm = e.target;
          buttonElm.setAttribute('disabled', 'disabled');
          goog.events.unlisten(buttonElm, 'click', decrement);
        }
      }
    }
  </script>

</body>
</html>
